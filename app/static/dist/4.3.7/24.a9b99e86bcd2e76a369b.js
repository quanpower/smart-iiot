webpackJsonp([24],{1219:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(3),u=a(n),o=r(1578),s=a(o),c=r(118),i=a(c),d=r(292),l=r(1269),f=a(l),p=r(1712),h=r(1296),g=r(121),y=a(g),m=r(1346);e.default=(0,f.default)(h.model,{namespace:"graindash",state:{gatewayAddr:1,barnNo:1,barnsOptions:[],airConDash:[],airconBlockItems:["a","b","c"]},subscriptions:{setup:function(t){var e=t.dispatch;t.history.listen(function(t){var r=t.pathname;console.log("update graindashboard begin---");var a=(0,y.default)("/grain_dashboard/:barnNo").exec(r);console.log("---in graindash models---"),console.log("match:",a);var n=a[1];console.log("match barnNo",n),e({type:"fetchBarnNo",payload:{barnNo:n}}),e({type:"fetchBarnsOptions"}),e({type:"fetchAirConDashboard",payload:{gatewayAddr:1,barnNo:n}}),e({type:"fetchAirconBlockItems",payload:{barnNo:n}})})}},effects:{query:i.default.mark(function t(e,r){var a,n=e.payload,u=r.call,o=r.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(p.query,(0,d.parse)(n));case 2:return a=t.sent,t.next=5,o({type:"updateState",payload:a});case 5:case"end":return t.stop()}},t,this)}),fetchGatewayAddr:i.default.mark(function t(e,r){var a,n=e.payload,u=r.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.gatewayAddr,t.next=3,u({type:"updateState",payload:{gatewayAddr:a}});case 3:case"end":return t.stop()}},t,this)}),fetchBarnsOptions:i.default.mark(function t(e,r){var a,n,u,o,c,d=r.select,l=r.call,f=r.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(0,s.default)(e),t.next=3,d(function(t){return t.app.user});case 3:return a=t.sent,console.log("************airconcontrol user*************:",a),n={userID:a.id,username:a.username},t.next=8,l(m.getAllBarns,n);case 8:return u=t.sent,o=u.list,c=o,console.log("-----barnsOptions is------ :",c),t.next=14,f({type:"updateState",payload:{barnsOptions:c}});case 14:case"end":return t.stop()}},t,this)}),fetchAirConDashboard:i.default.mark(function t(e,r){var a,n,u,o,s=e.payload,c=r.call,d=r.put,l=r.select;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(function(t){return t.graindash.gatewayAddr});case 2:return a=t.sent,console.log("-----gatewayAddr-------:",a),t.next=6,l(function(t){return t.graindash.barnNo});case 6:return n=t.sent,console.log("-----barnNo-------:",n),u=s||{gatewayAddr:a,barnNo:n},console.log("payload1 is:",u),t.next=12,c(m.getAirConDashboard,u);case 12:return o=t.sent,console.log("airConDash is :",o),t.next=16,d({type:"updateAirConDashboard",payload:{airConDash:o.airConDash}});case 16:case"end":return t.stop()}},t,this)}),fetchBarnNo:i.default.mark(function t(e,r){var a,n=e.payload,u=r.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.barnNo,console.log("-----payload is------ :",n),console.log("-----barnNo is------ :",a),t.next=5,u({type:"updateState",payload:{barnNo:a}});case 5:case"end":return t.stop()}},t,this)}),fetchAirconBlockItems:i.default.mark(function t(e,r){var a,n=e.payload,u=r.call,o=r.put;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(m.getAirconBlockItems,n);case 2:return a=t.sent,console.log("airconBlockItems is :",a),t.next=6,o({type:"updateState",payload:{airconBlockItems:a.airconBlockItems}});case 6:case"end":return t.stop()}},t,this)})},reducers:{updateAirConDashboard:function(t,e){var r=e.payload.airConDash;return console.log("reducers airConDash is :",r),(0,u.default)({},t,{airConDash:r})}}}),t.exports=e.default},1269:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(){for(var t={state:{},subscriptions:{},effects:{},reducers:{}},e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return r.reduce(function(t,e){return t.namespace=e.namespace,"object"!==(0,c.default)(e.state)||Array.isArray(e.state)?"state"in e&&(t.state=e.state):(0,o.default)(t.state,e.state),(0,o.default)(t.subscriptions,e.subscriptions),(0,o.default)(t.effects,e.effects),(0,o.default)(t.reducers,e.reducers),t},t)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(290),o=a(u),s=r(64),c=a(s);e.default=n},1296:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=r(3),u=a(n),o=r(1269),s=a(o),c={reducers:{updateState:function(t,e){var r=e.payload;return(0,u.default)({},t,r)}}},i=(0,s.default)(c,{state:{list:[],pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(t){return"Total "+t+" Items"},current:1,total:0}},reducers:{querySuccess:function(t,e){var r=e.payload,a=r.list,n=r.pagination;return(0,u.default)({},t,{list:a,pagination:(0,u.default)({},t.pagination,n)})}}});t.exports={model:c,pageModel:i}},1346:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getAirconBlockItems=e.getAlarmStatus=e.getNodeAddrByBarnNo=e.getGrainHistory=e.getAirConDashboard=e.getAirConTempRecord=e.getAirConTemps=e.getAirConTemp=e.getAllNodes=e.getAllBarns=e.getBarns=void 0;var n=r(118),u=a(n),o=r(287),s=a(o),c=(e.getBarns=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:d,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAllBarns=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:l,method:"post",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAllNodes=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:f,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAirConTemp=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:p,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAirConTemps=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:h,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAirConTempRecord=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:g,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAirConDashboard=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:y,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getGrainHistory=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:m,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getNodeAddrByBarnNo=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:v,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAlarmStatus=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:b,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.getAirconBlockItems=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:w,method:"post",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r(75)),i=c.config.api,d=i.barns,l=i.allBarns,f=i.allNodes,p=i.airConTemp,h=i.airConTemps,g=i.airConTempRecord,y=i.airConDashboard,m=i.grainHistory,v=i.nodeAddrByBarnNo,b=i.alarmStatus,w=i.airconBlockItems},1578:function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}},1712:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.query=void 0;var n=r(118),u=a(n),o=r(287),s=a(o),c=(e.query=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:d,method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r(75)),i=c.config.api,d=i.dashboard}});